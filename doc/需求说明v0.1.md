# 数据管理平台 - 完整需求规格说明书
## 文档信息
| 项          | 内容                          |
|-------------|-------------------------------|
| 文档版本    | V0.3                          |
| 适用场景    | Python+Vue 编程案例           |
| 核心特性    | 元数据驱动、CRUD、登录认证、权限控制、数据查询与导出、仪表盘可视化 |
| 目标用户    | 编程入门学习者                |

## 一、项目概述
### 1.1 项目背景
企业中存在大量个性化表单需求（如员工信息表、客户登记表、设备信息表等），传统开发方式需为每个表单单独编写页面和接口，效率低。本系统通过**元数据定义表单结构**，实现“一份配置、多表单复用”，同时增加登录认证和权限控制，符合企业级系统的基础安全要求，核心完成：
1. 用户登录/权限管理；
2. 表单模板增删改查；
3. 基于模板的表单数据增删改查。

### 1.2 项目目标
- 功能目标：实现“登录-模板管理-表单数据管理”全流程，覆盖完整的增删改查和权限控制；
- 技术目标：基于Python+Vue实现轻量、易理解的前后端分离系统，适合编程案例学习；
- 体验目标：界面简洁，操作流程≤3步完成核心操作，权限控制清晰。

## 二、核心需求
### 2.1 功能需求
#### 2.1.1 登录与用户权限模块（新增核心模块）
| 子功能         | 详细说明                                                                 |
|----------------|--------------------------------------------------------------------------|
| 用户登录       | 1. 输入用户名/密码提交登录请求；<br>2. 后端验证身份，生成并返回Token；<br>3. 前端存储Token，跳转至系统首页；<br>4. 支持记住密码（本地缓存）、忘记密码（简化版：仅提示联系管理员）；<br>5. 登录失败提示“用户名或密码错误” |
| 权限控制       | 1. 定义两种角色：超级管理员（admin）、普通用户（user）；<br>2. 权限规则：<br>   - admin：可操作所有功能（模板增删改查+表单数据增删改查）；<br>   - user：仅可操作表单数据（查看模板、提交/查看/编辑/删除自己的表单数据，不可删除/修改模板） |
| 登出功能       | 1. 点击登出按钮，清空前端Token缓存；<br>2. 跳转回登录页                   |
| 用户信息管理   | 1. 登录后可查看当前用户信息（用户名、角色）；<br>2. 管理员可查看所有用户列表（增删改查） |

#### 2.1.2 元数据模板管理模块（完善权限约束）
| 子功能         | 详细说明                                                                 | 权限约束                          |
|----------------|--------------------------------------------------------------------------|-----------------------------------|
| 模板新增       | 1. 填写模板名称、备注；<br>2. 可视化添加表单字段（名称、类型、是否必填、默认值、选项）；<br>3. 提交保存模板 | 仅admin可操作                     |
| 模板查询       | 1. 分页展示所有模板；<br>2. 支持按模板名称模糊搜索；<br>3. 点击模板可查看详情（字段配置） | admin/用户均可查看                |
| 模板修改       | 1. 选择已有模板，编辑模板名称/字段配置；<br>2. 提交保存修改               | 仅admin可操作                     |
| 模板删除       | 1. 选择模板，确认后删除；<br>2. 校验：若模板关联表单数据，禁止删除并提示 | 仅admin可操作                     |

#### 2.1.3 表单数据管理模块（完善权限约束）
| 子功能         | 详细说明                                                                 | 权限约束                          |
|----------------|--------------------------------------------------------------------------|-----------------------------------|
| 数据新增       | 1. 选择模板，前端自动渲染表单；<br>2. 填写数据，前端校验必填项；<br>3. 提交保存数据（关联当前登录用户） | admin/用户均可操作                |
| 数据查询       | 1. 选择模板，分页展示该模板下的所有数据；<br>2. 支持按字段值模糊搜索；<br>3. 管理员可查看所有数据，普通用户仅查看自己提交的数据 | admin：查看全部；user：仅查看自己的 |
| 数据修改       | 1. 选择数据，前端渲染对应模板的表单并回显数据；<br>2. 编辑后提交保存       | admin：修改全部；user：仅修改自己的 |
| 数据删除       | 1. 选择数据，确认后删除                                                 | admin：删除全部；user：仅删除自己的 |

#### 2.1.4 数据查询模块（新增）
| 子功能         | 详细说明                                                                 | 权限约束                          |
|----------------|--------------------------------------------------------------------------|-----------------------------------|
| 高级筛选       | 1. 选择模板后，支持添加多个筛选条件；<br>2. 每个条件包含：字段、操作符（=、!=、>、<、>=、<=、like、in、not_in、contains）、值；<br>3. 操作符根据字段类型自动过滤可用选项 | admin/用户均可操作                |
| 列管理         | 1. 支持拖拽调整列顺序；<br>2. 支持隐藏/恢复列；<br>3. 点击列头切换排序（升序/降序） | admin/用户均可操作                |
| 数据导出       | 1. 点击"导出Excel"按钮，导出当前筛选条件下的全部数据；<br>2. 导出内容按当前可见列和列顺序生成；<br>3. 文件名格式：{模板名}_{日期}.xlsx | admin/用户均可操作                |

#### 2.1.5 表格编辑模块（新增）
| 子功能         | 详细说明                                                                 | 权限约束                          |
|----------------|--------------------------------------------------------------------------|-----------------------------------|
| 表格编辑       | 1. 选择模板后，以Excel风格表格展示数据；<br>2. 支持直接在表格中编辑数据；<br>3. 支持批量操作 | admin/用户均可操作                |
| 导入模板下载   | 1. 点击"导入→下载导入模板"，根据当前选中模板字段生成仅含表头的Excel文件；<br>2. 未选模板时提示"请先选择模板" | admin/用户均可操作                |
| 数据导入       | 1. 点击"导入→导入数据"，选择Excel/CSV文件；<br>2. 自动解析表头并映射到模板字段（按label或name匹配）；<br>3. 导入前进行数据校验：必填字段不能为空、数字字段必须为有效数字；<br>4. 校验失败弹窗显示具体行列错误信息，全部通过后写入表格 | admin/用户均可操作                |

#### 2.1.6 仪表盘模块（新增）
| 子功能         | 详细说明                                                                 | 权限约束                          |
|----------------|--------------------------------------------------------------------------|-----------------------------------|
| 仪表盘配置     | 1. 添加图表：选择数据模板、统计字段（或记录总数）、图表类型（柱状图/饼图/折线图/数值统计）、标题；<br>2. 支持编辑、删除已有图表；<br>3. 支持拖拽调整图表顺序；<br>4. 配置保存在浏览器本地（localStorage） | admin/用户均可操作                |
| 仪表盘展示     | 1. 首页展示所有已配置图表；<br>2. 顶部多选框可按数据来源模板筛选显示的图表；<br>3. 支持多个模板的图表混合展示；<br>4. 数值统计类型显示大字号数值，其余类型渲染 ECharts 图表 | admin/用户均可操作                |

#### 2.1.6 系统管理模块
| 子功能         | 详细说明                                                                 | 权限约束                          |
|----------------|--------------------------------------------------------------------------|-----------------------------------|
| 个人中心       | 1. 查看当前用户信息（用户名、角色、登录时间）；<br>2. 修改个人密码         | 所有用户均可操作（仅修改自己的）  |
| 系统日志（简化） | 1. 管理员查看登录日志（用户名、登录时间、IP）；<br>2. 仅展示，不提供修改/删除 | 仅admin可查看                     |

### 2.2 非功能需求
#### 2.2.1 性能需求
- 登录请求响应时间≤500ms；
- 模板渲染时间≤1秒；
- 单页数据查询（≤1000条）响应时间≤800ms；
- 支持同时在线用户数≥10人（适配编程案例场景）。

#### 2.2.2 安全需求
- 密码存储：后端采用哈希加密（如bcrypt）存储，不存储明文；
- Token机制：采用JWT生成登录Token，设置过期时间（如2小时），过期后需重新登录；
- 接口安全：所有非登录接口需验证Token，无Token/无效Token返回401；
- 防重复提交：表单提交增加防抖/防重复提交机制（如按钮禁用）。

#### 2.2.3 易用性需求
- 界面风格：统一使用Element Plus企业级UI组件，配色简洁（主色：蓝色系）；
- 操作指引：核心功能（如模板创建、表单提交）提供简单的文字提示；
- 错误提示：所有操作失败需给出明确的错误原因（如“用户名或密码错误”“该模板关联数据，禁止删除”）；
- 兼容性：支持Chrome 90+、Firefox 88+、Edge 90+浏览器。

#### 2.2.4 可维护性需求
- 代码规范：前后端代码均添加清晰注释，变量/函数命名语义化；
- 数据存储：采用SQLite，数据文件可本地备份；
- 日志记录：后端记录关键操作日志（登录、模板删除、数据删除），便于排查问题。

### 2.3 业务规则
1. **用户规则**：
   - 初始默认管理员账号：admin/admin123（首次登录需强制修改密码）；
   - 普通用户由管理员创建，初始密码由管理员指定（至少6位）；
   - 密码规则：长度≥6位。
2. **模板规则**：
   - 模板名称不可重复；
   - 字段类型仅支持：文本（text）、数字（number）、日期（date）、单选（radio）、多选（checkbox）；
   - 模板修改后，历史表单数据结构不变，仅新提交数据生效。
3. **数据规则**：
   - 表单数据提交时，自动关联当前登录用户ID；
   - 普通用户不可查看/修改/删除其他用户的表单数据；
   - 表单数据删除时，无需校验，直接删除（简化版）。
4. **模板修改与历史数据兼容规则**：
   - 模板修改后，已提交的历史表单数据保持原有结构不变，仅新提交数据按新模板结构生效；
   - 查看历史数据时，以数据提交时的字段为准进行展示；新增字段显示为空，已删除字段仍正常展示历史值。
5. **记住密码规则**：
   - 使用localStorage存储用户名，密码不存储明文，仅存储加密后的密文；
   - 记住密码有效期为7天，过期自动清除。

## 三、界面需求（完整管理界面设计）
### 3.1 前端路由定义
| 路由路径                | 页面名称       | 权限要求       |
|------------------------|----------------|----------------|
| /login                 | 登录页         | 无需登录       |
| /                      | 系统首页（工作台）| 需登录        |
| /templates             | 模板管理页     | 需登录         |
| /forms                 | 表单数据页     | 需登录         |
| /form-browser          | 数据查询页     | 需登录         |
| /form-sheet            | 表格编辑页     | 需登录         |
| /dashboard-config      | 仪表盘配置页   | 需登录         |
| /system/users          | 用户管理页     | 仅admin        |
| /system/profile        | 个人中心页     | 需登录         |
| /system/logs           | 系统日志页     | 仅admin        |
| /401                   | 401无权限页    | 无             |
| /404                   | 404未找到页    | 无             |

### 3.2 页面地图
```
├── 登录页
├── 系统首页（仪表盘）
│   ├── 仪表盘配置页
│   ├── 模板管理子页面
│   ├── 表单数据子页面
│   ├── 数据查询子页面（高级筛选+导出Excel）
│   ├── 表格编辑子页面（Excel风格编辑+导入/导出）
│   └── 系统管理子页面
│       ├── 用户管理页（仅管理员可见）
│       ├── 个人中心页
│       └── 系统日志页（仅管理员可见）
└── 401/404错误页
```

### 3.3 核心页面详细设计
#### 3.3.1 登录页
| 区域         | 元素/功能                                                                 |
|--------------|--------------------------------------------------------------------------|
| 登录表单区   | 1. 用户名输入框（必填，提示“请输入用户名”）；<br>2. 密码输入框（必填，可隐藏/显示密码）；<br>3. 记住密码复选框；<br>4. 登录按钮（点击后禁用，防止重复提交）；<br>5. 忘记密码链接（点击提示“联系管理员重置”） |
| 样式要求     | 1. 居中布局，适配不同屏幕；<br>2. 表单有边框阴影，视觉层级清晰；<br>3. 错误提示红色文字，位于表单下方 |

#### 3.3.2 系统首页（仪表盘）
| 区域         | 元素/功能                                                                 |
|--------------|--------------------------------------------------------------------------|
| 顶部操作栏   | 1. 标题”仪表盘”；<br>2. 数据来源多选框（按模板筛选显示的图表）；<br>3. “配置仪表盘”按钮（跳转配置页） |
| 图表展示区   | 1. 网格布局展示所有已配置图表卡片；<br>2. 每张卡片显示标题、所属模板标签、图表内容；<br>3. 无配置时显示空状态提示 |

#### 3.3.3 仪表盘配置页
| 区域         | 元素/功能                                                                 |
|--------------|--------------------------------------------------------------------------|
| 操作区       | 1. “添加图表”按钮；<br>2. 图表卡片列表（支持拖拽排序）                   |
| 图表卡片     | 1. 显示标题、模板名、字段名、图表类型；<br>2. 编辑/删除操作按钮；<br>3. 拖拽手柄 |
| 添加/编辑弹窗 | 1. 标题输入框；<br>2. 数据模板下拉选择；<br>3. 统计字段下拉（含”记录总数”选项）；<br>4. 图表类型选择（柱状图/饼图/折线图/数值统计） |

#### 3.3.3 模板管理页面
| 区域         | 元素/功能                                                                 |
|--------------|--------------------------------------------------------------------------|
| 搜索操作区   | 1. 模板名称搜索框；<br>2. 新增模板按钮（仅admin）；<br>3. 刷新按钮         |
| 模板列表区   | 1. 分页表格，列：模板ID、模板名称、创建时间、字段数量、操作；<br>2. 操作列：查看、编辑（仅admin）、删除（仅admin）；<br>3. 无数据时显示“暂无模板”提示 |
| 模板编辑弹窗 | 1. 表单项：模板名称、备注；<br>2. 字段配置区：<br>   - 新增字段按钮（点击添加一行字段配置：字段名、标签、类型、必填、默认值、选项（单选/多选时显示））；<br>   - 字段行删除按钮；<br>   - 字段类型下拉选择（text/number/date/radio/checkbox）；<br>3. 确认/取消按钮 |

#### 3.3.4 表单数据页面
| 区域         | 元素/功能                                                                 |
|--------------|--------------------------------------------------------------------------|
| 模板选择区   | 1. 模板下拉选择框（必选）；<br>2. 查询按钮、新增数据按钮                   |
| 数据搜索区   | 1. 动态生成搜索框（根据选中模板的字段，显示文本/数字搜索框）；<br>2. 重置按钮 |
| 数据列表区   | 1. 分页表格，列：数据ID、提交人、提交时间、操作；<br>2. 操作列：查看、编辑、删除（权限控制）；<br>3. 无数据时显示“暂无数据”提示 |
| 数据编辑弹窗 | 1. 根据选中模板的元数据动态渲染表单；<br>2. 表单回显已有数据（编辑时）；<br>3. 表单校验（必填项）；<br>4. 确认/取消按钮 |

#### 3.3.5 系统管理-用户管理页面（仅admin）
| 区域         | 元素/功能                                                                 |
|--------------|--------------------------------------------------------------------------|
| 操作区       | 1. 新增用户按钮；<br>2. 刷新按钮                                         |
| 用户列表区   | 1. 分页表格，列：用户ID、用户名、角色、创建时间、操作；<br>2. 操作列：编辑、重置密码、删除；<br>3. 无数据时显示“暂无用户”提示 |
| 新增/编辑用户弹窗 | 1. 表单项：用户名、角色（admin/user）、初始密码（新增时）；<br>2. 确认/取消按钮 |

#### 3.3.6 系统管理-个人中心页面
| 区域         | 元素/功能                                                                 |
|--------------|--------------------------------------------------------------------------|
| 用户信息区   | 1. 展示：用户ID、用户名、角色、最后登录时间；<br>2. 不可编辑，仅展示       |
| 修改密码区   | 1. 表单项：原密码、新密码、确认新密码；<br>2. 密码校验：新密码≥6位，包含字母+数字；确认密码与新密码一致；<br>3. 提交按钮、重置按钮 |

#### 3.3.7 系统管理-系统日志页面（仅admin）
| 区域         | 元素/功能                                                                 |
|--------------|--------------------------------------------------------------------------|
| 日志列表区   | 1. 分页表格，列：日志ID、用户名、登录IP、登录结果（成功/失败）、登录时间；<br>2. 仅展示，不提供修改/删除操作；<br>3. 无数据时显示"暂无日志"提示 |

## 四、接口补充（登录/权限相关）
### 4.1 用户认证接口
| 接口路径               | 请求方法 | 功能         | 请求参数示例                          | 响应示例                                  |
|------------------------|----------|--------------|---------------------------------------|-------------------------------------------|
| /api/auth/login/       | POST     | 用户登录     | {"username": "admin", "password": "123456"} | {"code": 200, "msg": "登录成功", "data": {"token": "xxx", "user": {"id": 1, "username": "admin", "role": "admin"}}} |
| /api/auth/logout/      | POST     | 用户登出     | 无（Header带Token）                   | {"code": 200, "msg": "登出成功"}          |
| /api/auth/user/info/   | GET      | 获取当前用户信息 | 无（Header带Token）                   | {"code": 200, "data": {"id": 1, "username": "admin", "role": "admin", "last_login_time": "2026-02-24 10:00:00"}} |
| /api/auth/password/change/ | POST | 修改密码     | {"old_pwd": "123456", "new_pwd": "654321", "confirm_pwd": "654321"} | {"code": 200, "msg": "密码修改成功"}     |

### 4.2 用户管理接口（仅admin可访问）
| 接口路径               | 请求方法 | 功能         | 请求参数示例                          | 响应示例                                  |
|------------------------|----------|--------------|---------------------------------------|-------------------------------------------|
| /api/users/            | POST     | 新增用户     | {"username": "user1", "password": "123456", "role": "user"} | {"code": 200, "msg": "用户创建成功"}      |
| /api/users/            | GET      | 查询所有用户 | 无                                    | {"code": 200, "data": [{"id": 2, "username": "user1", "role": "user", "create_time": "2026-02-24 10:00:00"}]} |
| /api/users/{id}/       | PUT      | 修改用户     | {"username": "user1", "role": "admin"} | {"code": 200, "msg": "用户修改成功"}      |
| /api/users/{id}/       | DELETE   | 删除用户     | 路径参数：id                          | {"code": 200, "msg": "用户删除成功"}      |
| /api/users/{id}/reset-pwd/ | POST | 重置密码     | 路径参数：id                          | {"code": 200, "msg": "密码重置为123456"}  |

### 4.3 模板管理接口
| 接口路径               | 请求方法 | 功能         | 请求参数示例                          | 响应示例                                  |
|------------------------|----------|--------------|---------------------------------------|-------------------------------------------|
| /api/templates/        | POST     | 新增模板     | {"name": "员工登记表", "remark": "备注", "meta_data": [{"field_name": "name", "label": "姓名", "type": "text", "required": true, "default": "", "options": []}]} | {"code": 200, "msg": "模板创建成功", "data": {"id": 1}} |
| /api/templates/        | GET      | 查询模板列表 | 查询参数：?page=1&page_size=10&name=员工 | {"code": 200, "data": {"list": [...], "total": 20, "page": 1, "page_size": 10}} |
| /api/templates/{id}/   | GET      | 查询模板详情 | 路径参数：id                          | {"code": 200, "data": {"id": 1, "name": "员工登记表", "remark": "备注", "meta_data": [...], "creator_id": 1, "create_time": "...", "update_time": "..."}} |
| /api/templates/{id}/   | PUT      | 修改模板     | {"name": "员工登记表v2", "remark": "更新", "meta_data": [...]} | {"code": 200, "msg": "模板修改成功"} |
| /api/templates/{id}/   | DELETE   | 删除模板     | 路径参数：id                          | {"code": 200, "msg": "模板删除成功"} |

### 4.4 表单数据接口
| 接口路径               | 请求方法 | 功能         | 请求参数示例                          | 响应示例                                  |
|------------------------|----------|--------------|---------------------------------------|-------------------------------------------|
| /api/forms/            | POST     | 新增表单数据 | {"template_id": 1, "data": {"name": "张三", "age": 25}} | {"code": 200, "msg": "数据提交成功", "data": {"id": 1}} |
| /api/forms/            | GET      | 查询表单数据 | 查询参数：?template_id=1&page=1&page_size=10&filters=[{"field":"name","op":"like","value":"张"}]&sort_field=name&sort_order=asc | {"code": 200, "data": {"list": [...], "total": 50, "page": 1, "page_size": 10}} |
| /api/forms/{id}/       | GET      | 查询数据详情 | 路径参数：id                          | {"code": 200, "data": {"id": 1, "template_id": 1, "user_id": 1, "data": {...}, "create_time": "...", "update_time": "..."}} |
| /api/forms/{id}/       | PUT      | 修改表单数据 | {"data": {"name": "李四", "age": 30}} | {"code": 200, "msg": "数据修改成功"} |
| /api/forms/{id}/       | DELETE   | 删除表单数据 | 路径参数：id                          | {"code": 200, "msg": "数据删除成功"} |
| /api/forms/batch       | POST     | 批量导入数据 | {"template_id": 1, "items": [{"name": "张三"}, ...]} | {"code": 200, "msg": "成功导入N条数据"} |

### 4.5 系统管理接口
| 接口路径               | 请求方法 | 功能         | 请求参数示例                          | 响应示例                                  |
|------------------------|----------|--------------|---------------------------------------|-------------------------------------------|
| /api/logs/login/       | GET      | 查询登录日志 | 查询参数：?page=1&page_size=10       | {"code": 200, "data": {"list": [...], "total": 100, "page": 1, "page_size": 10}} |

### 4.6 接口通用规则
1. **请求头**：所有非登录接口需在Header中携带`Authorization: Bearer {Token}`；
2. **响应格式**：统一返回JSON，结构如下：
   ```json
   {
     "code": 200, // 200成功，400参数错误，401未授权，403权限不足，500服务器错误
     "msg": "操作成功", // 提示信息
     "data": {} // 业务数据（可选）
   }
   ```
3. **权限校验**：后端接口需校验用户角色，无权限返回`{"code": 403, "msg": "权限不足"}`；
4. **分页规范**：
   - 请求参数：`page`（页码，默认1）、`page_size`（每页条数，默认10，最大100）；
   - 响应格式：`{"list": [], "total": 0, "page": 1, "page_size": 10}`。

## 五、数据字典
### 5.1 用户表（user）
| 字段名       | 类型         | 主键 | 非空 | 说明                     | 示例值                     |
|--------------|--------------|------|------|--------------------------|----------------------------|
| id           | INT          | 是   | 是   | 用户ID（自增）           | 1                          |
| username     | VARCHAR(50)  | 否   | 是   | 用户名（唯一）           | admin                      |
| password     | VARCHAR(100) | 否   | 是   | 加密后的密码             | $2b$12$xxx（bcrypt加密）|
| role         | VARCHAR(20)  | 否   | 是   | 角色（admin/user）       | admin                      |
| status       | INT          | 否   | 是   | 用户状态（1:启用 0:禁用）| 1                          |
| need_change_pwd | INT       | 否   | 是   | 是否需要修改密码（1:是 0:否）| 1                      |
| create_time  | DATETIME     | 否   | 是   | 创建时间                 | 2026-02-24 10:00:00        |
| last_login_time | DATETIME  | 否   | 否   | 最后登录时间             | 2026-02-24 11:00:00        |

### 5.2 表单模板表（form_template）
| 字段名       | 类型         | 主键 | 非空 | 说明                     | 示例值                     |
|--------------|--------------|------|------|--------------------------|----------------------------|
| id           | INT          | 是   | 是   | 模板ID（自增）           | 1                          |
| name         | VARCHAR(50)  | 否   | 是   | 模板名称（唯一）         | 员工登记表                 |
| remark       | VARCHAR(200) | 否   | 否   | 模板备注                 | 存储员工基础信息           |
| meta_data    | JSON         | 否   | 是   | 元数据（表单字段配置）   | 见前文示例                 |
| creator_id   | INT          | 否   | 是   | 创建者用户ID             | 1                          |
| create_time  | DATETIME     | 否   | 是   | 创建时间                 | 2026-02-24 10:00:00        |
| update_time  | DATETIME     | 否   | 是   | 更新时间                 | 2026-02-24 11:00:00        |

### 5.3 表单数据表（form_data）
| 字段名       | 类型         | 主键 | 非空 | 说明                     | 示例值                     |
|--------------|--------------|------|------|--------------------------|----------------------------|
| id           | INT          | 是   | 是   | 数据ID（自增）           | 1                          |
| template_id  | INT          | 否   | 是   | 关联模板ID               | 1                          |
| user_id      | INT          | 否   | 是   | 提交用户ID               | 1                          |
| data         | JSON         | 否   | 是   | 表单数据                 | 见前文示例                 |
| create_time  | DATETIME     | 否   | 是   | 创建时间                 | 2026-02-24 10:00:00        |
| update_time  | DATETIME     | 否   | 是   | 更新时间                 | 2026-02-24 11:00:00        |

### 5.4 系统日志表（login_log）
| 字段名       | 类型         | 主键 | 非空 | 说明                     | 示例值                     |
|--------------|--------------|------|------|--------------------------|----------------------------|
| id           | INT          | 是   | 是   | 日志ID（自增）           | 1                          |
| user_id      | INT          | 否   | 否   | 登录用户ID               | 1                          |
| username     | VARCHAR(50)  | 否   | 是   | 登录用户名（冗余存储）   | admin                      |
| login_ip     | VARCHAR(50)  | 否   | 是   | 登录IP                   | 127.0.0.1                  |
| login_status | INT          | 否   | 是   | 登录结果（1:成功 0:失败）| 1                          |
| login_time   | DATETIME     | 否   | 是   | 登录时间                 | 2026-02-24 10:00:00        |

---

### 总结
1. **功能完整性**：涵盖登录认证、权限控制、用户管理、模板管理、表单数据管理、高级数据查询（多条件筛选+排序+列管理）、数据导出Excel、表格编辑、批量导入（含模板下载+数据校验）、仪表盘可视化配置等功能；
2. **权限清晰性**：明确区分admin和user两种角色的操作范围，所有功能均绑定权限约束；
3. **界面规范化**：详细设计了登录页、首页、模板管理、表单数据、数据查询、表格编辑、系统管理等所有核心页面；
4. **落地性**：技术栈为Python+Vue+SQLite，轻量易实现，适合作为编程案例的完整需求文档。